{"ast":null,"code":"const SayPlatformBase = require('./base.js');\nconst BASE_SPEED = 100;\nconst COMMAND = 'festival';\nclass SayPlatformLinux extends SayPlatformBase {\n  constructor() {\n    super();\n    this.baseSpeed = BASE_SPEED;\n  }\n  buildSpeakCommand({\n    text,\n    voice,\n    speed\n  }) {\n    let args = [];\n    let pipedData = '';\n    let options = {};\n    args.push('--pipe');\n    if (speed) {\n      pipedData += `(Parameter.set 'Audio_Command \"aplay -q -c 1 -t raw -f s16 -r $(($SR*${this.convertSpeed(speed)}/100)) $FILE\") `;\n    }\n    if (voice) {\n      pipedData += `(${voice}) `;\n    }\n    pipedData += `(SayText \"${text}\")`;\n    return {\n      command: COMMAND,\n      args,\n      pipedData,\n      options\n    };\n  }\n  buildExportCommand({\n    text,\n    voice,\n    speed,\n    filename\n  }) {\n    throw new Error(`say.export(): does not support platform ${this.platform}`);\n  }\n  runStopCommand() {\n    // TODO: Need to ensure the following is true for all users, not just me. Danger Zone!\n    // On my machine, original childD.pid process is completely gone. Instead there is now a\n    // childD.pid + 1 sh process. Kill it and nothing happens. There's also a childD.pid + 2\n    // aplay process. Kill that and the audio actually stops.\n    process.kill(this.child.pid + 2);\n  }\n  getVoices() {\n    throw new Error(`say.export(): does not support platform ${this.platform}`);\n  }\n}\nmodule.exports = SayPlatformLinux;","map":{"version":3,"names":["SayPlatformBase","require","BASE_SPEED","COMMAND","SayPlatformLinux","constructor","baseSpeed","buildSpeakCommand","text","voice","speed","args","pipedData","options","push","convertSpeed","command","buildExportCommand","filename","Error","platform","runStopCommand","process","kill","child","pid","getVoices","module","exports"],"sources":["C:/Users/SAKSHI SINGH/OneDrive/Desktop/test-master/node_modules/say/platform/linux.js"],"sourcesContent":["const SayPlatformBase = require('./base.js')\n\nconst BASE_SPEED = 100\nconst COMMAND = 'festival'\n\nclass SayPlatformLinux extends SayPlatformBase {\n  constructor () {\n    super()\n    this.baseSpeed = BASE_SPEED\n  }\n\n  buildSpeakCommand ({ text, voice, speed }) {\n    let args = []\n    let pipedData = ''\n    let options = {}\n\n    args.push('--pipe')\n\n    if (speed) {\n      pipedData += `(Parameter.set 'Audio_Command \"aplay -q -c 1 -t raw -f s16 -r $(($SR*${this.convertSpeed(speed)}/100)) $FILE\") `\n    }\n\n    if (voice) {\n      pipedData += `(${voice}) `\n    }\n\n    pipedData += `(SayText \"${text}\")`\n\n    return { command: COMMAND, args, pipedData, options }\n  }\n\n  buildExportCommand ({ text, voice, speed, filename }) {\n    throw new Error(`say.export(): does not support platform ${this.platform}`)\n  }\n\n  runStopCommand () {\n    // TODO: Need to ensure the following is true for all users, not just me. Danger Zone!\n    // On my machine, original childD.pid process is completely gone. Instead there is now a\n    // childD.pid + 1 sh process. Kill it and nothing happens. There's also a childD.pid + 2\n    // aplay process. Kill that and the audio actually stops.\n    process.kill(this.child.pid + 2)\n  }\n\n  getVoices () {\n    throw new Error(`say.export(): does not support platform ${this.platform}`)\n  }\n}\n\nmodule.exports = SayPlatformLinux\n"],"mappings":"AAAA,MAAMA,eAAe,GAAGC,OAAO,CAAC,WAAW,CAAC;AAE5C,MAAMC,UAAU,GAAG,GAAG;AACtB,MAAMC,OAAO,GAAG,UAAU;AAE1B,MAAMC,gBAAgB,SAASJ,eAAe,CAAC;EAC7CK,WAAWA,CAAA,EAAI;IACb,KAAK,CAAC,CAAC;IACP,IAAI,CAACC,SAAS,GAAGJ,UAAU;EAC7B;EAEAK,iBAAiBA,CAAE;IAAEC,IAAI;IAAEC,KAAK;IAAEC;EAAM,CAAC,EAAE;IACzC,IAAIC,IAAI,GAAG,EAAE;IACb,IAAIC,SAAS,GAAG,EAAE;IAClB,IAAIC,OAAO,GAAG,CAAC,CAAC;IAEhBF,IAAI,CAACG,IAAI,CAAC,QAAQ,CAAC;IAEnB,IAAIJ,KAAK,EAAE;MACTE,SAAS,IAAK,wEAAuE,IAAI,CAACG,YAAY,CAACL,KAAK,CAAE,iBAAgB;IAChI;IAEA,IAAID,KAAK,EAAE;MACTG,SAAS,IAAK,IAAGH,KAAM,IAAG;IAC5B;IAEAG,SAAS,IAAK,aAAYJ,IAAK,IAAG;IAElC,OAAO;MAAEQ,OAAO,EAAEb,OAAO;MAAEQ,IAAI;MAAEC,SAAS;MAAEC;IAAQ,CAAC;EACvD;EAEAI,kBAAkBA,CAAE;IAAET,IAAI;IAAEC,KAAK;IAAEC,KAAK;IAAEQ;EAAS,CAAC,EAAE;IACpD,MAAM,IAAIC,KAAK,CAAE,2CAA0C,IAAI,CAACC,QAAS,EAAC,CAAC;EAC7E;EAEAC,cAAcA,CAAA,EAAI;IAChB;IACA;IACA;IACA;IACAC,OAAO,CAACC,IAAI,CAAC,IAAI,CAACC,KAAK,CAACC,GAAG,GAAG,CAAC,CAAC;EAClC;EAEAC,SAASA,CAAA,EAAI;IACX,MAAM,IAAIP,KAAK,CAAE,2CAA0C,IAAI,CAACC,QAAS,EAAC,CAAC;EAC7E;AACF;AAEAO,MAAM,CAACC,OAAO,GAAGxB,gBAAgB","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}